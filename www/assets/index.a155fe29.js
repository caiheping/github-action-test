import{l as e,p as l}from"./esm.531ddd84.js";import{d as a,r as t,V as s,W as o,l as i,m as n,v as r,A as c,F as u,y as p,O as d,t as g}from"./ant-design-vue.10f2c163.js";var v=a({components:{VuePictureCropper:e},setup(){const e=t(null),a=t(""),s=t(""),o=t(!1);return{uploadInput:e,pic:a,result:s,isShowDialog:o,selectFile:l=>{const t=l.target,{files:s}=t;if(!s)return;const i=s[0],n=new FileReader;n.readAsDataURL(i),n.onload=()=>{a.value=String(n.result),o.value=!0,e.value&&(e.value.value="")}},getResult:()=>{const e=l.getDataURL(),a=l.getBlob();console.log({base64:e,blob:a}),s.value=e,o.value=!1},clear:()=>{l.clear()},reset:()=>{l.reset()}}}});const b=p("data-v-4be456b9");s("data-v-4be456b9");const f={class:"section"},m=r("span",null,"选择图片",-1),w={key:0,class:"section"},C=r("p",null,"裁切后的Base64图片预览：",-1),k={class:"preview",ref:"preview"},h=r("p",null,"可以按 F12 查看打印的 base64 / blob 结果",-1),_=d("取消"),y=d("清除"),D=d("重置"),F=d("裁切");o();const R=b(((e,l,a,t,s,o)=>{const p=g("a-button"),d=g("vue-picture-cropper"),v=g("a-modal");return i(),n(u,null,[r("section",f,[r(p,{class:"select-picture"},{default:b((()=>[m,r("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:l[1]||(l[1]=(...l)=>e.selectFile&&e.selectFile(...l))},null,544)])),_:1})]),e.result?(i(),n("section",w,[C,r("div",k,[r("img",{src:e.result,alt:"组合式 API"},null,8,["src"])],512),h])):c("",!0),r(v,{visible:e.isShowDialog,"onUpdate:visible":l[3]||(l[3]=l=>e.isShowDialog=l),title:"图片裁切",maskClosable:!1},{footer:b((()=>[r(p,{onClick:l[2]||(l[2]=l=>e.isShowDialog=!1)},{default:b((()=>[_])),_:1}),r(p,{onClick:e.clear},{default:b((()=>[y])),_:1},8,["onClick"]),r(p,{onClick:e.reset},{default:b((()=>[D])),_:1},8,["onClick"]),r(p,{type:"primary",onClick:e.getResult},{default:b((()=>[F])),_:1},8,["onClick"])])),default:b((()=>[r(d,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"crop",aspectRatio:16/9,preview:".preview"}},null,8,["img","options"])])),_:1},8,["visible"])],64)}));v.render=R,v.__scopeId="data-v-4be456b9";export default v;
